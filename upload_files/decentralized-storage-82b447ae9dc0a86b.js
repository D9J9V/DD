(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{79352:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/concepts/decentralized-storage",function(){return o(49535)}])},17778:function(e,t,o){"use strict";var n=o(52322),a={nextLinks:!1,prevLinks:!1,search:!1,customSearch:null,darkMode:!1,footer:!1,header:!1,logo:(0,n.jsx)(n.Fragment,{}),head:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("title",{children:"NFT.Storage Docs"})})};t.Z=a},49535:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var n=o(70865),a=o(96670),i=o(52322),r=o(17647),s=o(49083),c=o(17778),l=o(45392);function d(e){var t=Object.assign({h1:"h1",p:"p",em:"em",strong:"strong",h2:"h2",pre:"pre",code:"code",a:"a",ul:"ul",li:"li"},(0,l.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{children:"Decentralized storage in brief"}),"\n",(0,i.jsxs)(t.p,{children:["NFT.Storage relies on ",(0,i.jsx)(t.em,{children:"decentralized storage"})," to store your files for free on the network. ",(0,i.jsx)(t.strong,{children:"Decentralized storage is a technique for storing data that, instead of traditional servers, uses a distributed network with many participants providing storage capacity."})," This model inherently builds in redundancy that provides resilience against failure and attacks, as well as enhanced performance due to the geographical localization offered by a large network of distributed storage providers. While you don't need to understand decentralized storage to be able to incorporate NFT.Storage in your apps and services, if you're curious about what's going on under the hood, read on."]}),"\n",(0,i.jsx)(t.h2,{children:"Content addressing"}),"\n",(0,i.jsxs)(t.p,{children:["Broadly speaking, much of today's web operates using what is known as ",(0,i.jsx)(t.em,{children:"location addressing"}),". Location addressing retrieves online information from specific locations on the web \u2500 i.e. from behind URLs."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"https://example.com/page-one.html\n"})}),"\n",(0,i.jsxs)(t.p,{children:["However, this approach has some critical problems. Location addressing is ",(0,i.jsx)(t.em,{children:"centralized"}),", meaning that ",(0,i.jsx)(t.strong,{children:"whoever controls that location controls the content"}),". The controller can change the content, completely replace it, or just take it away. This means location-based addresses are vulnerable to attacks, exploitation, and loss."]}),"\n",(0,i.jsxs)(t.p,{children:["One part of an approach to ",(0,i.jsx)(t.em,{children:"decentralizing"})," this legacy way of operating the web entails implementing a new kind of addressing: ",(0,i.jsx)(t.em,{children:"content addressing"}),". Content addressing is the technique of issuing each piece of data a ",(0,i.jsx)(t.em,{children:"content identifier (CID)"}),", which is a token derived directly from the file's contents using an algorithm that will always generate the same key for the same content. Using content addressing, files can be queried and retrieved based on ",(0,i.jsx)(t.em,{children:"what they are"}),", not ",(0,i.jsx)(t.em,{children:"where they are"})," \u2014 one major ingredient in enabling the web to break free from centralized content control."]}),"\n",(0,i.jsxs)(t.p,{children:["NFT.Storage uses CIDs generated by ",(0,i.jsx)(t.a,{href:"https://ipfs.io",children:"IPFS"}),", the InterPlanetary File System, to enable content addressing for all data stored. This computation is generally done on the user's (client) side, meaning users don't have to trust NFT.Storage to know they have the correct CID. And as long as CIDs are used to reference off-chain data in an NFT, there can't be a dispute to what content (art, videos, etc.) an NFT is referring to - you can just verify content against ithe CID!"]}),"\n",(0,i.jsxs)(t.p,{children:["However, content addressing is only part of the solution. IPFS references data via its CID and makes sure you can get the content back as long as at least one copy is being broadcast to the network. BUt ",(0,i.jsx)(t.strong,{children:"just because a file has a CID doesn't mean that the file is guaranteed to be around forever"}),". In a well-operating decentralized system, participants all need to agree to be good actors and provide reliable storage capacity. For this, NFT.Storage uses the ",(0,i.jsx)(t.a,{href:"https://filecoin.io",children:"Filecoin"})," network. The Filecoin network and its namesake token FIL (or \u2a0e for short) were created to incentivize storage providers on the network to agree to ",(0,i.jsx)(t.em,{children:"storage deals"}),", and provide trustless proof that the storage providers are actually storing the data as promised. These deals specify that a certain amount of storage capacity will be provided over an agreed period of time, ensuring the second part of the solution: ",(0,i.jsx)(t.em,{children:"content persistence"}),"."]}),"\n",(0,i.jsx)(t.h2,{children:"Filecoin for verifiable content persistence"}),"\n",(0,i.jsxs)(t.p,{children:["Leveraging the Filecoin network for data stored using NFT.Storage ensures that content is available for retrieval, thus assuring that the content-based addressing provided by IPFS remains resilient over time. Filecoin achieves this mission using a number of methods, including ",(0,i.jsx)(t.a,{href:"https://filecoin.io/blog/posts/filecoin-features-verifiable-storage/",children:"novel cryptography, consensus protocols, and game-theoretic incentives"})," \u2014 but perhaps the most important of these is Filecoin's unique approach to storage verification."]}),"\n",(0,i.jsxs)(t.p,{children:["Filecoin's storage verification system solves a previously intractable problem for decentralized storage: How can storage providers ",(0,i.jsx)(t.em,{children:"prove"})," that they are really storing the data they say they are over time? Filecoin's ",(0,i.jsx)(t.a,{href:"https://filecoin.io/blog/posts/what-sets-us-apart-filecoin-s-proof-system/",children:"proving algorithms"})," take care of this verification:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://proto.school/verifying-storage-on-filecoin/03",children:(0,i.jsx)(t.em,{children:"Proof-of-Replication"})})," proves that a given storage provider is storing a unique copy of a client's original data."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://proto.school/verifying-storage-on-filecoin/04",children:(0,i.jsx)(t.em,{children:"Proof-of-Spacetime"})})," proves that the client's data is stored continuously over time."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"Since these proofs end up on-chain, anyone can look at the Filecoin blockchain and verify that a given piece of content was being stored for this duration of time by these storage providers."}),"\n",(0,i.jsxs)(t.p,{children:["In addition to this proof system, the Filecoin network also relies on ",(0,i.jsx)(t.em,{children:"game-theoretic incentives"})," to discourage malicious or negligent activity. In order to become a Filecoin storage provider, all potential providers must provide collateral in the form of FIL when agreeing to a storage deal. Additionally, any storage provider that fails Proof-of-Spacetime checks is penalized, loses a portion of their collateral, and is eventually prevented from offering storage to clients again."]}),"\n",(0,i.jsx)(t.h2,{children:"Storing and monitoring with NFT.Storage"}),"\n",(0,i.jsxs)(t.p,{children:["How can you see these principles in action with your files uploaded to NFT.Storage? It's easy using the NFT.Storage ",(0,i.jsx)(t.a,{href:"https://nftstorage.github.io/nft.storage/client/",children:"JavaScript client library"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"When you upload a file to NFT.Storage, you get the CID of that file in return. The file is then put into a queue for geographically distributed Filecoin network storage providers who have been chosen for performance and availability. These providers bid on the right to store the files in the queue \u2014 including your file \u2014 and agree to a storage deal."}),"\n",(0,i.jsxs)(t.p,{children:["You can monitor this activity for files you upload to NFT.Storage by ",(0,i.jsxs)(t.a,{href:"https://nftstorage.github.io/nft.storage/client/classes/lib.NFTStorage.html#check",children:["calling ",(0,i.jsx)(t.code,{children:"check()"})]})," and providing a file's CID. This will return a list of deals that have been made at the time of query. Here's how you might include this call in your JavaScript project:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-js",children:"const cid = 'bafybeiggzq4ryi7hscq5hzvzcnk4urnxt3asp37dhgvnjilf7exskximla'\n\n// check status based on CID\nconst info = await client.check(rootCid)\n\n// display results of query\nconsole.log(`${info.cid}`)\nfor (const deal of info.deals) {\n  console.log(deal)\n}\n"})}),"\n",(0,i.jsxs)(t.p,{children:["And you can always verify this data by using a Filecoin block explorer like ",(0,i.jsx)(t.a,{href:"https://filfox.info/en",children:"Filfox"}),"!"]}),"\n",(0,i.jsx)(t.h2,{children:"Fully decentralizing NFT.Storage for multigenerational storage"}),"\n",(0,i.jsxs)(t.p,{children:['Persisting off-chain NFT data can fall prey to the "tragedy of the commons." Ultimately, the owner of an NFT is responsible to make sure the off-chain component of their NFT exists and is accessible, and this culture is growing in the NFT space - but in practice, it can be somewhat complicated to make sure off-chain data is always persisted. This is why NFT.Storage has the mission to ',(0,i.jsx)(t.a,{href:"https://blog.nft.storage/blog/post/2022-01-20-decentralizing-nft-storage/",children:"store all NFT data as a public good"}),". But how will this work?"]}),"\n",(0,i.jsxs)(t.p,{children:["Individual Filecoin deals are a building block for any decentralized storage system. The Filecoin chain trustlessly shows that specific content is persisted, the number of copies of this content on the network, and with who it is stored with. As a result, you can instrument smart contracts to listen to the chain and enforce things like long-term redundancy. Today, NFT.Storage is manually renewing individual Filecoin deals, but soon, it will use the ",(0,i.jsx)(t.a,{href:"https://fvm.filecoin.io/",children:"FVM"}),' to achieve multigenerational, decentralized persistence. The current plan is to create a "data DAO" that funds smart contracts that perpetually ensure many copies of data uploaded to NFT.Storage exist, and create new storage deals if storage deals expire or copies go away.']}),"\n",(0,i.jsxs)(t.p,{children:["However, by using IPFS CIDs to address data, users don't need to rely just on NFT.Storage's persistence model to keep their NFTs safe. We encourage users to save their NFTs in as many places as makes them feel comfortable (we call this ",(0,i.jsx)(t.a,{href:"https://blog.nft.storage/blog/post/2021-12-14-storage-layer-maximalism/",children:'"storage layer maximalism"'}),"). Having this culture also contributes to the decentralized storage of NFTs as a public good!"]}),"\n",(0,i.jsx)(t.h2,{children:"Summary"}),"\n",(0,i.jsx)(t.p,{children:"The legacy approach of using location addressing to reference files on the web has a number of critical vulnerabilities to interference, exploitation, and loss. Because whoever controls the location controls the content, these location-addressed, centrally stored networks also leave the web exposed to the whims of big, corporate central storage platforms."}),"\n",(0,i.jsx)(t.p,{children:"By pairing IPFS content addressing (to decentralize how resources are specified) with Filecoin (to decentralize how storage capacity is obtained), it becomes possible to create a complete solution for locating, storing, and obtaining data \u2014 one that is not only resilient against these vulnerabilities, but also rewarding for network participants."}),"\n",(0,i.jsx)(t.h2,{children:"Learn more"}),"\n",(0,i.jsxs)(t.p,{children:["Want a deep dive into decentralized storage, how it works, and why it's important? Check out ",(0,i.jsx)(t.a,{href:"https://proto.school/verifying-storage-on-filecoin/",children:"ProtoSchool"})," for an in-depth look at verifying storage on Filecoin, plus a wealth of other interactive tutorials on DWeb concepts, protocols, and tools."]})]})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(0,l.ah)(),e.components),o=t.wrapper;return o?(0,i.jsx)(o,(0,a.Z)((0,n.Z)({},e),{children:(0,i.jsx)(d,(0,n.Z)({},e))})):d(e)}var g=(0,i.jsx)(h,{});function u(e){return(0,s.withSSG)((0,r.Z)({filename:"decentralized-storage.md",route:"/docs/concepts/decentralized-storage",meta:{title:"Decentralized storage",description:"Learn about decentralized storage works and how it's key to NFT.Storage."},pageMap:[{name:"docs",children:[{name:"client",children:[{name:"http",route:"/docs/client/http"},{name:"js",route:"/docs/client/js"},{name:"meta.json",meta:{js:{title:"JavaScript",type:"docs"},http:"HTTP API"}}],route:"/docs/client"},{name:"concepts",children:[{name:"architecture-considerations",route:"/docs/concepts/architecture-considerations",frontMatter:{title:"Architecture considerations"}},{name:"car-files",route:"/docs/concepts/car-files",frontMatter:{title:"Working with Content Archives",sidebar_label:"Work with Content Archives",description:"Learn how to work with Content Archives of IPLD data."}},{name:"decentralized-storage",route:"/docs/concepts/decentralized-storage",frontMatter:{title:"Decentralized storage",description:"Learn about decentralized storage works and how it's key to NFT.Storage."}},{name:"gateways",route:"/docs/concepts/gateways"},{name:"meta.json",meta:{"decentralized-storage":"Decentralized storage","car-files":"Work with Content Archives","architecture-considerations":"Architecture considerations"}}],route:"/docs/concepts"},{name:"how-to",children:[{name:"get-status",route:"/docs/how-to/get-status"},{name:"meta.json",meta:{"mint-erc-1155":"Store and mint NFTs using ERC-1155 metadata standards","mint-custom-metadata":"Store and mint NFTs using custom metadata","mint-solana":"Store and mint NFTs for Solana with Metaplex",retrieve:"Retrieve NFT data from IPFS","store-directory":"Store a directory of files","get-status":"Get upload status",ucan:"Use UCAN tokens for delegated authorization","pinning-service":"Pinning Services API",nftup:"Upload with NFTUp"}},{name:"mint-custom-metadata",route:"/docs/how-to/mint-custom-metadata",frontMatter:{title:"Store and mint NFTs using custom metadata"}},{name:"mint-erc-1155",route:"/docs/how-to/mint-erc-1155",frontMatter:{title:"Store and mint NFTs using ERC-1155 metadata standards"}},{name:"mint-solana",route:"/docs/how-to/mint-solana",frontMatter:{title:"Mint NFTs on Solana with Metaplex"}},{name:"nftup",route:"/docs/how-to/nftup",frontMatter:{title:"Upload files and directories with NFTUp"}},{name:"pinning-service",route:"/docs/how-to/pinning-service"},{name:"retrieve",route:"/docs/how-to/retrieve",frontMatter:{title:"Retrieve NFT data from IPFS"}},{name:"store-directory",route:"/docs/how-to/store-directory"},{name:"ucan",route:"/docs/how-to/ucan"}],route:"/docs/how-to"},{name:"meta.json",meta:{quickstart:"Quickstart","why-nft-storage":"Why NFT.Storage",troubleshooting:"Troubleshooting","api-docs":"Api Docs",concepts:"Concepts","how-to":"How To",client:"Client libraries"}},{name:"quickstart",route:"/docs/quickstart",frontMatter:{title:"Welcome"}},{name:"troubleshooting",route:"/docs/troubleshooting",frontMatter:{title:"Troubleshooting"}},{name:"why-nft-storage",route:"/docs/why-nft-storage",frontMatter:{title:"Why NFT.Storage?"}}],route:"/docs"}]},c.Z))((0,a.Z)((0,n.Z)({},e),{children:g}))}}},function(e){e.O(0,[619,774,888,179],(function(){return t=79352,e(e.s=t);var t}));var t=e.O();_N_E=t}]);