(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{5138:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(68389)}])},68389:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return p},default:function(){return x}});var t=n(98788),a=n(94776),i=n.n(a),l=n(52322),s=n(2784),c=n(5632),u=n(39183),o=n(7143),m=n(12678),d=n(82066),p=!0;function x(){var e=(0,d.useQueryClient)(),r=(0,s.useState)(""),n=r[0],a=r[1],p=(0,s.useState)(!1),x=p[0],h=p[1],f=(0,s.useState)(!1),b=f[0],N=f[1],g=(0,c.useRouter)(),v="string"===typeof g.query.returnUrl?g.query.returnUrl:void 0;function y(){return(y=(0,t.Z)(i().mark((function r(t){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),n&&a(""),h(!0),r.prev=3,r.next=6,(0,u.Nc)(t.currentTarget.email.value,v);case 6:return r.next=8,e.invalidateQueries("magic-user");case 8:g.push(null!==v&&void 0!==v?v:"/files"),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(3),h(!1),console.error("An unexpected error happened occurred:",r.t0),a(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return(0,l.jsx)("main",{className:"flex-auto bg-nsorange w-full",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-4 mt-16",children:(0,l.jsxs)("form",{onSubmit:function(e){return y.apply(this,arguments)},className:"flex items-center justify-center flex-col text-center",children:[(0,l.jsx)("label",{className:"text-base block mb-4 chicagoflf",children:(0,l.jsx)("h1",{children:"Log in with"})}),(0,l.jsx)(m.Z,{className:"w-64",onClick:function(){N(!0),(0,u.g7)("github",v)},tracking:{event:o.ZP.events.LOGIN_CLICK,ui:o.ZP.ui.LOGIN,action:"Github"},children:b?"Redirecting...":"GitHub"}),(0,l.jsx)("h4",{className:"my-4 text-2xl",children:"Or"}),(0,l.jsx)("label",{id:"email-entry-label",htmlFor:"email",className:"sr-only",children:"Enter Your Email"}),(0,l.jsx)("input",{"aria-labelledby":"email-entry-label",type:"email",name:"email",required:!0,placeholder:"Enter your email",className:"appearance-none border border-solid border-black placeholder:text-gray-500 p-2 mb-2 w-64 mx-auto block"}),(0,l.jsx)(m.Z,{type:"submit",disabled:x,className:"w-64 text-center",tracking:{event:o.ZP.events.LOGIN_CLICK,ui:o.ZP.ui.LOGIN,action:"Sign Up / Login"},children:"Sign Up / Login"}),n&&(0,l.jsx)("p",{className:"error",children:n}),(0,l.jsx)("br",{}),(0,l.jsx)("br",{})]})})})}}},function(e){e.O(0,[774,888,179],(function(){return r=5138,e(e.s=r);var r}));var r=e.O();_N_E=r}]);