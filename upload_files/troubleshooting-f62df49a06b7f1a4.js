(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[827],{92642:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/docs/troubleshooting",function(){return o(83631)}])},17778:function(e,t,o){"use strict";var n=o(52322),r={nextLinks:!1,prevLinks:!1,search:!1,customSearch:null,darkMode:!1,footer:!1,header:!1,logo:(0,n.jsx)(n.Fragment,{}),head:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("title",{children:"NFT.Storage Docs"})})};t.Z=r},83631:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return p}});var n=o(70865),r=o(96670),s=o(52322),a=o(17647),i=o(49083),c=o(17778),d=o(45392);function h(e){var t=Object.assign({h1:"h1",h3:"h3",p:"p",code:"code",a:"a",pre:"pre",ol:"ol",li:"li",strong:"strong"},(0,d.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{children:"Troubleshooting"}),"\n",(0,s.jsx)(t.h3,{children:"I tried using an HTTP gateway to retrieve my content from IPFS but am receiving an HTTP error. Does this mean my content was not stored successfully on NFT.Storage?"}),"\n",(0,s.jsx)(t.p,{children:"Not necessarily! HTTP gateways are a great way for users who aren't running their own IPFS nodes to retrieve content from the IPFS network."}),"\n",(0,s.jsx)(t.p,{children:"However, they do introduce a centralized point of failure to a user flow. If a given gateway is down, or is under too much load, or is facing other issues, users who are accessing content through that gateway might be unable to access content. In this case, we recommend trying another gateway or running and using your own IPFS node."}),"\n",(0,s.jsx)(t.p,{children:"Additionally, if the data was not stored on NFT.Storage, then there might be issues with the IPFS node(s) with a copy of the data providing that data to the gateway. Using NFT.Storage makes sure that the content stored is broadcasted to the network using best practices!"}),"\n",(0,s.jsx)(t.h3,{children:'Why am I seeing "Module not found" errors?'}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"nft.storage"})," package uses the ",(0,s.jsxs)(t.a,{href:"https://nodejs.org/api/packages.html#packages_exports",children:[(0,s.jsx)(t.code,{children:"exports"})," field"]})," in it's ",(0,s.jsx)(t.code,{children:"package.json"})," file to export the correct code depending on the target environment. This allows us to support browsers, node.js with CommonJS (",(0,s.jsx)(t.code,{children:"require"})," syntax), and node.js with ES Modules (",(0,s.jsx)(t.code,{children:"import"})," syntax) from the same code base."]}),"\n",(0,s.jsxs)(t.p,{children:["Unfortunately, not all bundlers and build tools in the JS ecosystem support the ",(0,s.jsx)(t.code,{children:"exports"})," field. In particular, trying to import the ",(0,s.jsx)(t.code,{children:"nft.storage"})," package from a project using Webpack 4 will result in an error like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"Failed to compile.\n\n./node_modules/nft.storage/src/platform.web.js\nModule not found: Can't resolve 'ipfs-car/blockstore/memory' in '/workspace/Unstoppable-Stream/node_modules/nft.storage/src'\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If possible, upgrading your project to use Webpack 5 or adopting an alternative bundler like ",(0,s.jsx)(t.a,{href:"https://vitejs.dev/",children:"Vite"})," should fix the issue. If your project was built using an older version of ",(0,s.jsx)(t.a,{href:"https://create-react-app.dev/",children:"create-react-app"}),' and has not been "ejected" to use a custom configuration, you should be able to update to the latest ',(0,s.jsx)(t.code,{children:"react-scripts"})," dependency by following ",(0,s.jsx)(t.a,{href:"https://create-react-app.dev/docs/updating-to-new-releases/",children:"the update documentation"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["You may see similar errors when using Jest to run unit tests for projects built on NestJS. A working example using NestJS and Jest is available on ",(0,s.jsx)(t.a,{href:"https://github.com/alanshaw/nest-nftstorage",children:"GitHub"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"Try the following to resolve:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Install the dependency: ",(0,s.jsx)(t.code,{children:"npm i -D enhanced-resolve"})]}),"\n",(0,s.jsxs)(t.li,{children:["Add the file located ",(0,s.jsx)(t.a,{href:"https://github.com/alanshaw/nest-nftstorage/blob/main/test/export-maps-resolver.js",children:"here"})]}),"\n",(0,s.jsxs)(t.li,{children:["Configure it as a ",(0,s.jsx)(t.a,{href:"https://github.com/alanshaw/nest-nftstorage/blob/main/package.json#L72",children:"resolver"})]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["You can read more about the Jest ",(0,s.jsx)(t.a,{href:"https://github.com/facebook/jest/issues/9771#issuecomment-841624042",children:"fix"})," for this issue. Jest v28 is expected to incorporate this fix once a stable release is available."]}),"\n",(0,s.jsx)(t.p,{children:"If you don't want to change your build setup, you can import a pre-bundled and minified version of the package by changing the import statement:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'import { NFTStorage } from "nft.storage/dist/bundle.esm.min.js";\n'})}),"\n",(0,s.jsx)(t.h3,{children:"Why am I seeing syntax error unexpected token?"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Try updating to Node version 14 or later"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["We no longer offer support for versions prior to v14 (",(0,s.jsx)(t.a,{href:"https://nft.storage/faq/#why-don't-you-support-versions-of-node-prior-to-v14",children:"see here"}),"). This error can occur when attempting to use ",(0,s.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining#browser_compatibility",children:"Optional Chaining"})," with an old version of Node."]}),"\n",(0,s.jsx)(t.h3,{children:"Why am I seeing syntax error cannot use import statement outside a module?"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Try updating to Node version 14 or later"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["This error can occur because of having an old version of Node. We no longer offer support for versions prior to v14 (",(0,s.jsx)(t.a,{href:"https://nft.storage/faq/#why-don't-you-support-versions-of-node-prior-to-v14",children:"see here"}),"). With Node v14 or greater, you should be able to use ",(0,s.jsx)(t.code,{children:"import"})," if you are using ESM Modules, otherwise you will need to use ",(0,s.jsx)(t.code,{children:"require"}),"."]}),"\n",(0,s.jsx)(t.h3,{children:"Don't See Your Question Answered?"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://discord.com/invite/KKucsCpZmY",children:"Chat with us in #nft-storage on IPFS discord"})})]})}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},(0,d.ah)(),e.components),o=t.wrapper;return o?(0,s.jsx)(o,(0,r.Z)((0,n.Z)({},e),{children:(0,s.jsx)(h,(0,n.Z)({},e))})):h(e)}var u=(0,s.jsx)(l,{});function p(e){return(0,i.withSSG)((0,a.Z)({filename:"troubleshooting.md",route:"/docs/troubleshooting",meta:{title:"Troubleshooting"},pageMap:[{name:"docs",children:[{name:"client",children:[{name:"http",route:"/docs/client/http"},{name:"js",route:"/docs/client/js"},{name:"meta.json",meta:{js:{title:"JavaScript",type:"docs"},http:"HTTP API"}}],route:"/docs/client"},{name:"concepts",children:[{name:"architecture-considerations",route:"/docs/concepts/architecture-considerations",frontMatter:{title:"Architecture considerations"}},{name:"car-files",route:"/docs/concepts/car-files",frontMatter:{title:"Working with Content Archives",sidebar_label:"Work with Content Archives",description:"Learn how to work with Content Archives of IPLD data."}},{name:"decentralized-storage",route:"/docs/concepts/decentralized-storage",frontMatter:{title:"Decentralized storage",description:"Learn about decentralized storage works and how it's key to NFT.Storage."}},{name:"gateways",route:"/docs/concepts/gateways"},{name:"meta.json",meta:{"decentralized-storage":"Decentralized storage","car-files":"Work with Content Archives","architecture-considerations":"Architecture considerations"}}],route:"/docs/concepts"},{name:"how-to",children:[{name:"get-status",route:"/docs/how-to/get-status"},{name:"meta.json",meta:{"mint-erc-1155":"Store and mint NFTs using ERC-1155 metadata standards","mint-custom-metadata":"Store and mint NFTs using custom metadata","mint-solana":"Store and mint NFTs for Solana with Metaplex",retrieve:"Retrieve NFT data from IPFS","store-directory":"Store a directory of files","get-status":"Get upload status",ucan:"Use UCAN tokens for delegated authorization","pinning-service":"Pinning Services API",nftup:"Upload with NFTUp"}},{name:"mint-custom-metadata",route:"/docs/how-to/mint-custom-metadata",frontMatter:{title:"Store and mint NFTs using custom metadata"}},{name:"mint-erc-1155",route:"/docs/how-to/mint-erc-1155",frontMatter:{title:"Store and mint NFTs using ERC-1155 metadata standards"}},{name:"mint-solana",route:"/docs/how-to/mint-solana",frontMatter:{title:"Mint NFTs on Solana with Metaplex"}},{name:"nftup",route:"/docs/how-to/nftup",frontMatter:{title:"Upload files and directories with NFTUp"}},{name:"pinning-service",route:"/docs/how-to/pinning-service"},{name:"retrieve",route:"/docs/how-to/retrieve",frontMatter:{title:"Retrieve NFT data from IPFS"}},{name:"store-directory",route:"/docs/how-to/store-directory"},{name:"ucan",route:"/docs/how-to/ucan"}],route:"/docs/how-to"},{name:"meta.json",meta:{quickstart:"Quickstart","why-nft-storage":"Why NFT.Storage",troubleshooting:"Troubleshooting","api-docs":"Api Docs",concepts:"Concepts","how-to":"How To",client:"Client libraries"}},{name:"quickstart",route:"/docs/quickstart",frontMatter:{title:"Welcome"}},{name:"troubleshooting",route:"/docs/troubleshooting",frontMatter:{title:"Troubleshooting"}},{name:"why-nft-storage",route:"/docs/why-nft-storage",frontMatter:{title:"Why NFT.Storage?"}}],route:"/docs"}]},c.Z))((0,r.Z)((0,n.Z)({},e),{children:u}))}}},function(e){e.O(0,[619,774,888,179],(function(){return t=92642,e(e.s=t);var t}));var t=e.O();_N_E=t}]);